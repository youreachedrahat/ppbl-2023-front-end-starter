import CheckAddressHasContributorToken from "./cardano/CheckAddressHasContributorToken";
import CheckTxFromAddressWithPolicyID from "./cardano/CheckTxFromAddressWithPolicyID";
import CheckAssociatedWallet from "./cardano/CheckAssociatedWallet";
import SLTSmall from "../../ui/Text/SLTSmall";

# Mastery Assignment 102.M1: Build Two Transactions
This is a guided Mastery Assignment. We will help you get started on a task, and hopefully you will learn some new things along the way. When you are done, there will be on-chain evidence of your success!

Along the way, we will encounter new questions about how the blockchain works.

## In this assignment you will demonstrate mastery of these learning targets:
<SLTSmall moduleNumber={102} id="102.1" />
<SLTSmall moduleNumber={102} id="102.2" />
<SLTSmall moduleNumber={102} id="102.3" />


## How will I demonstrate mastery?
Great question. We've been wondering the same thing!

For example, if we consider SLT 102.2:
- How will we know that you created a particular address?
- How will we know that that the address is actually yours?

In this assignment, we will begin to answer these questions by using your **PPBL2023 Contributor Token**.

<br />
---

## Using the Contributor Token

Send your Contributor Token from your **Browser Wallet** to the **CLI Wallet** you created in [Lesson 102.2](/modules/102/1022).

After you do, check your status here:

<CheckAddressHasContributorToken />

<br />
---

## Does this Count as Proof of Mastery?
Using the form

It is time for some on chain proof. Use this form to check if you have sent your Contrib token to this address...

### But is it really Proof?
That is ok, but how do we know this is your address? You could have given us any address, really! If you are asking this question - welcome to the party! Now we are ready to think a bit more about your Contributor token.

<br />
---

## Check if Tx has been sent from address
Instead of looking at the UTxOs that are *currently* at a wallet address, we can look at the transactions that have been sent to and from that address.

### UTxO = current state

### Transaction = historical record


<CheckTxFromAddressWithPolicyID />

<br />
---

## Here is your assignment:
Build two transactions with the **CLI wallet** you built in [Lesson 102.2](/modules/102/1022). By completing this assignment, you will create an on-chain record that your Browser Wallet and CLI Wallet are associated with each other.

1. Send a `splitUTxO` transaction from this wallet and back to this wallet with three outputs. One output should contain 10 ada, another with 15, and one with 25.
2. Send your Contributor Token from your CLI wallet back to your browser wallet.

## How to send a Cardano Native Asset in a transaction:
```bash
cardano-cli transaction build \
--babbage-era \
--testnet-magic 1 \
--tx-in $TXIN_LOVELACE \
--tx-in $TXIN_CONTRIB \
--tx-out $BROWSERADDRESS+"1500000 + 1 $CONTRIBUTOR_ASSET" \
--change-address $SENDERADDRESS \
--out-file send-contrib-token.raw

cardano-cli transaction sign \
--signing-key-file $SENDERKEY \
--testnet-magic 1 \
--tx-body-file send-contrib-token.raw \
--out-file send-contrib-token.signed

cardano-cli transaction submit \
--tx-file send-contrib-token.signed \
--testnet-magic 1
```

## How to build a split UTxO Transaction:
```bash
cardano-cli transaction build \
--babbage-era \
--testnet-magic 1 \
--tx-in $TXIN_LOVELACE \
--tx-out $SENDERADDRESS+10000000 \
--tx-out $SENDERADDRESS+15000000 \
--tx-out $SENDERADDRESS+25000000 \
--change-address $SENDERADDRESS \
--out-file split-utxo.raw

cardano-cli transaction sign \
--signing-key-file $SENDERKEY \
--testnet-magic 1 \
--tx-body-file split-utxo.raw \
--out-file split-utxo.signed

cardano-cli transaction submit \
--tx-file split-utxo.signed \
--testnet-magic 1
```

<br />
---

# Mastery Check:
<CheckAssociatedWallet />


import MDXLessonLayout from "@/src/components/lms/Lesson/MDXLessonLayout.tsx";
export default ({ children }) => <MDXLessonLayout>{children}</MDXLessonLayout>